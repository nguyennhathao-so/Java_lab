<header class="main-header">
  <div class="container">
    <div class="logo">
      <img src="../assets/images/logo/logo.png" alt="Red blood drop cradled by a hand holding a smaller drop inside, with World Blood Donor Day text in black and red beside the logo, promoting a caring and supportive message about blood donation" />
    </div>

    <nav class="nav-links">
      <a href="../trangChu.html">Trang chủ</a>
      <a href="../dichvu_member.html">Dịch vụ</a>
      <a href="../thongbao_member.html">Thông báo</a>
      <a href="../blog.html">Blog</a>
    </nav>

    <div class="auth-links">
      <div id="guest-view">
        <a href="../dangky_dangnhap_member.html">Sign up</a>
      </div>
      <div id="user-view" style="display: none;">
        <span id="user-email"></span>
        <button onclick="handleLogout()" style="margin-left: 10px; padding: 5px 10px; background: #a01515; color: white; border: none; border-radius: 4px; cursor: pointer;">Đăng xuất</button>
      </div>
    </div>
  </div>
</header>

<script>
// Kiểm tra trạng thái đăng nhập khi trang được tải
document.addEventListener('DOMContentLoaded', function() {
  const userEmail = localStorage.getItem('userEmail');
  const userName = localStorage.getItem('userName');
  const authToken = localStorage.getItem('authToken');
  
  if (userEmail && authToken) {
    // User đã đăng nhập
    document.getElementById('guest-view').style.display = 'none';
    document.getElementById('user-view').style.display = 'block';
    document.getElementById('user-email').textContent = userName || userEmail;
  } else {
    // User chưa đăng nhập
    document.getElementById('guest-view').style.display = 'block';
    document.getElementById('user-view').style.display = 'none';
  }
});

// Xử lý đăng xuất
function handleLogout() {
  localStorage.removeItem('authToken');
  localStorage.removeItem('userEmail');
  localStorage.removeItem('userName');
  localStorage.removeItem('role');
  window.location.href = '../dangky_dangnhap_member.html';
}
</script>
